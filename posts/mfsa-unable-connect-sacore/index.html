<!DOCTYPE html><html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="MFSA - Unable to connect SA Client to SA Core" /><meta name="author" content="thu4nvd" /><meta property="og:locale" content="en_US" /><meta name="description" content="Issue" /><meta property="og:description" content="Issue" /><link rel="canonical" href="https://thu4nvd.github.io//posts/mfsa-unable-connect-sacore/" /><meta property="og:url" content="https://thu4nvd.github.io//posts/mfsa-unable-connect-sacore/" /><meta property="og:site_name" content="Thu4nvd Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-03-17T05:10:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="MFSA - Unable to connect SA Client to SA Core" /><meta name="twitter:site" content="@thu4nvd" /><meta name="twitter:creator" content="@thu4nvd" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"thu4nvd"},"headline":"MFSA - Unable to connect SA Client to SA Core","dateModified":"2021-03-19T08:10:53+08:00","datePublished":"2021-03-17T05:10:00+08:00","description":"Issue","url":"https://thu4nvd.github.io//posts/mfsa-unable-connect-sacore/","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://thu4nvd.github.io//posts/mfsa-unable-connect-sacore/"},"@context":"https://schema.org"}</script><title>MFSA - Unable to connect SA Client to SA Core | Thu4nvd Blog</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/avatar-icon.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Thu4nvd Blog</a></div><div class="site-subtitle font-italic">Get In the Game</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/thu4nvd" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/thu4nvd" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['thuanvd','outlook.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>MFSA - Unable to connect SA Client to SA Core</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>MFSA - Unable to connect SA Client to SA Core</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> thu4nvd </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Mar 17, 2021, 5:10 AM +0800" prep="on" > Mar 17 <i class="unloaded">2021-03-17T05:10:00+08:00</i> </span></div><div> <span> <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Fri, Mar 19, 2021, 7:10 AM +0700" prefix="Updated " > Mar 19 <i class="unloaded">2021-03-19T08:10:53+08:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="617 words">3 min</span></div></div><div class="post-content"><h2 id="issue">Issue</h2><p>Product: <a href="https://docs.microfocus.com/itom/Server_Automation:2018.08/Standard_Install_Guide/InstallingAdditionalSliceComponentBundles">Server Automation</a><br /> Unable to access SA Core primary from SA Client</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/img/saclient.png" alt="sa-client" /> <em>Error when access SA Core</em></p><h2 id="analysis">Analysis</h2><p>It is happening before the NGUI even tries to talk to the twist.</p><p>At this stage in the startup, it is attempting to talk to the OCC, via the httpsProxy port 80 redirector.</p><p>Refer the architecture of SA <a href="https://docs.microfocus.com/itom/Server_Automation:2018.08/SA_overview/adv_architecture/AdvancedSAArchitecture">here</a></p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://docs.microfocus.com/mediawiki/images/2/2d/10.60/Resources/Images/SA_10_ArchNetDiagrams3.png" alt="sa-architecture" /> <em>SA Architecture diagram</em></p><h3 id="httpsproxy">Httpsproxy</h3><p>Below is the corresponding log record of the failed redirection from the httpsProxy logs:</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">cd</span> /var/log/opsware/httpsProxy
<span class="nv">$ </span><span class="nb">grep</span> /jnlp redirector_request_log | <span class="nb">grep</span> <span class="s1">' 74'</span> | <span class="nb">grep </span>49-31

<span class="o">[</span>03/Mar/2021:09:19:31 +0000] 172.23.224.69 <span class="s2">"GET /jnlp?hostname=172.23.224.32&amp;launcherversion=2.1.13&amp;-Dngui.log.file=C%3A%5CUsers%5Cdxc_shivarajup%5Cappdata%5CRoaming%5CHPE+SA%5C%5Clogs%5Cngui_03-03-2021_14-49-31.log&amp;-Dngui.home=C%3A%5CUsers%5Cdxc_shivarajup%5Cappdata%5CRoaming%5CHPE+SA%5C&amp;-Dngui.debug=true&amp;-Dcom.opsware.bootstrap.host=172.23.224.32 HTTP/1.1"</span> 74
</pre></table></code></div></div><p>The return size of “74” indicates this is a failure interaction. The return size should be larger than this. Below is the most recent successful NGUI download attempt from the httpsProxy logs:</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">grep</span> /jnlp redirector_request_log | <span class="nb">grep</span> <span class="nt">-v</span> <span class="s1">' 74'</span> | <span class="nb">tail</span> <span class="nt">-1</span>

<span class="o">[</span>26/Jul/2020:09:02:18 +0530] 172.23.251.24 <span class="s2">"GET /jnlp?hostname=172.23.224.32&amp;launcherversion=2.1.13&amp;-Dngui.log.file=C%3A%5CUsers%5Cdxc_nishanta%5Cappdata%5CRoaming%5CHPE+SA%5C%5Clogs%5Cngui_26-07-2020_09-02-18.log&amp;-Dngui.home=C%3A%5CUsers%5Cdxc_nishanta%5Cappdata%5CRoaming%5CHPE+SA%5C&amp;-Dcom.opsware.bootstrap.host=172.23.224.32 HTTP/1.1"</span> 3161
</pre></table></code></div></div><p>Below are the redirector rules from the httpsProxy configuration file “/etc/opt/opsware/httpsProxy/httpd.conf”:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>Secure redirector in apache
&lt;VirtualHost *:80&gt;
. . .
    RewriteRule ˆ/jnlp(.*) http://localhost:9080/com.opsware.file/jnlp$1 [P,L]
. . .
&lt;/VirtualHost&gt;
</pre></table></code></div></div><p>I’ve highlighted the RewriteRule that is in play for this JNLP NGUI download interaction.<br /> You can see that it redirects the request to port 9080, and rewrites the URL to make use of the “com.opsware.file” servlet.<br /> Port 9080 belongs to the OCC as you can see below:</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="nv">$ </span>lsof <span class="nt">-Pn</span> <span class="nt">-i</span> :9080 | <span class="nb">grep </span>LIST
java    13835  occ  405u  IPv6 125761805      0t0  TCP 127.0.0.1:9080 <span class="o">(</span>LISTEN<span class="o">)</span>

<span class="nv">$ </span>ps auxww| <span class="nb">grep </span>13835
occ      13835  0.3  3.2 4709624 327464 ?      Sl   Jan21 282:00 /opt/opsware/openjdk1.8/bin/java <span class="nt">-server</span> <span class="nt">-Xms384m</span> <span class="nt">-Xmx1024m</span> <span class="nt">-XX</span>:MaxMetaspaceSize<span class="o">=</span>256m <span class="nt">-XX</span>:NewRatio<span class="o">=</span>3 <span class="nt">-Dsun</span>.lang.ClassLoader.allowArraySyntax<span class="o">=</span><span class="nb">true</span> <span class="nt">-Docc</span>.home<span class="o">=</span>/opt/opsware/occ <span class="nt">-Docc</span>.cfg.dir<span class="o">=</span>/etc/opt/opsware/occ <span class="nt">-Dopsware</span>.deploy.urls<span class="o">=</span>/opt/opsware/occ/deploy/ <span class="nt">-Djava</span>.awt.headless<span class="o">=</span><span class="nb">true</span> <span class="nt">-D</span><span class="o">[</span>Standalone] <span class="nt">-Dlogging</span>.configuration<span class="o">=</span>file:/opt/opsware/occ/wildfly/standalone/configuration/logging.properties <span class="nt">-Djboss</span>.server.name<span class="o">=</span>occ <span class="nt">-Djboss</span>.server.temp.dir<span class="o">=</span>/var/opt/opsware/occ/tmp <span class="nt">-Djboss</span>.server.data.dir<span class="o">=</span>/var/opt/opsware/occ/data <span class="nt">-Djboss</span>.server.log.dir<span class="o">=</span>/var/log/opsware/occ <span class="nt">-Djboss</span>.server.config.dir<span class="o">=</span>/opt/opsware/occ/wildfly/standalone/configuration <span class="nt">-Djboss</span>.home.dir<span class="o">=</span>/opt/opsware/wildfly13 <span class="nt">-Djboss</span>.server.base.dir<span class="o">=</span>/opt/opsware/wildfly13/standalone <span class="nt">-DsslProtocols</span><span class="o">=</span>TLSv1.2 <span class="nt">-jar</span> /opt/opsware/wildfly13/jboss-modules.jar <span class="nt">-mp</span> /opt/opsware/wildfly13/modules:/opt/opsware/occ/wildfly/modules org.jboss.as.standalone <span class="nt">--server-config</span><span class="o">=</span>standalone-full.xml
</pre></table></code></div></div><h3 id="occ-component">OCC component</h3><p>So then the next step is to inspect the OCC logs to see what it’s problem is.<br /> When we grep for the “com.opsware.file” deployment in the server.log from March 10th, we see the following:</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">grep </span>com.opsware.file /var/log/opsware/occ/server.log

2021-03-10 06:49:41,629 INFO  <span class="o">[</span>org.jboss.as.server.deployment.scanner] <span class="o">(</span>DeploymentScanner-threads - 1<span class="o">)</span> WFLYDS0004: Found com.opsware.file.ear <span class="k">in </span>deployment directory. To trigger deployment create a file called com.opsware.file.ear.dodeploy
2021-03-10 06:49:42,417 INFO  <span class="o">[</span>org.jboss.as.server.deployment] <span class="o">(</span>MSC service thread 1-5<span class="o">)</span> WFLYSRV0027: Starting deployment of <span class="s2">"com.opsware.file.ear"</span> <span class="o">(</span>runtime-name: <span class="s2">"com.opsware.file.ear"</span><span class="o">)</span>
2021-03-10 06:49:42,551 INFO  <span class="o">[</span>org.jboss.as.server.deployment] <span class="o">(</span>MSC service thread 1-8<span class="o">)</span> WFLYSRV0207: Starting subdeployment <span class="o">(</span>runtime-name: <span class="s2">"com.opsware.file.war"</span><span class="o">)</span>
2021-03-10 06:49:46,934 ERROR <span class="o">[</span>org.jboss.as.controller.management-operation] <span class="o">(</span>Controller Boot Thread<span class="o">)</span> WFLYCTL0013: Operation <span class="o">(</span><span class="s2">"deploy"</span><span class="o">)</span> failed - address: <span class="o">([(</span><span class="s2">"deployment"</span> <span class="o">=&gt;</span> <span class="s2">"com.opsware.file.ear"</span><span class="o">)])</span> - failure description: <span class="o">{</span><span class="s2">"WFLYCTL0180: Services with missing/unavailable dependencies"</span> <span class="o">=&gt;</span> undefined<span class="o">}</span>
<span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span>
</pre></table></code></div></div><p>What we see here is that “com.opsware.file” failed to deploy.<br /> When we open up the server.log and look deeper we see the reason is that the OCC is failing to authenticate to the twist using the username “buildmgr”. (The OCC interacts with the twist under the username “buildmgr”.)</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>2021-03-10 06:49:44,914 ERROR <span class="o">[</span>occ.auth.util] <span class="o">(</span>ServerService Thread Pool <span class="nt">--</span> 61<span class="o">)</span> Error getting system user: OpswareError: opsware.twistConnectionFailed <span class="o">[</span> module: com.opsware.client.Twist, line: 0, <span class="nb">hostname</span>: twist, timestamp: 1615358984914 <span class="o">]</span>

com.opsware.fido.AuthenticationException: ID:   HPSA-1114
Code:   com.opsware.fido.FidoMessageSpec.AUTHENTICATION_FAILURE
Details:   Authentication failed <span class="k">for </span>user buildmgr.  Details &lt;<span class="nv">class</span><span class="o">=</span>UserImpl&gt;&lt;<span class="nv">method</span><span class="o">=</span>authenticate&gt;&lt;<span class="nv">message</span><span class="o">=</span><span class="s1">'login incorrect for user: buildmgr'</span><span class="o">&gt;</span>
</pre></table></code></div></div><h3 id="twist-log">Twist log</h3><p>When we look at the corresponding twist/server.log at the same timestamp, we see a “violated signature” error:</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>2021-03-10 06:49:44,841 WARN Thread-312 <span class="o">[</span>com.opsware.fido.impl.user.UserImpl] <span class="o">[</span>authenticateInternal] Caught Exception
java.lang.RuntimeException: &lt;ERROR&gt; &lt;Bean.ejbLoad&gt; violated signature
        at com.opsware.fido.ejb.entity._AaaUser.ejbLoad<span class="o">(</span>_AaaUser.java:424<span class="o">)</span>
</pre></table></code></div></div><h2 id="solution">Solution</h2><p>So the root cause is that the user signature for “buildmgr” is wrong. To correct this, run the following:</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>/opt/opsware/support/bin/verify_user_sigs buildmgr
</pre></table></code></div></div><p>In fact, I recommend running the following in order to check all SA user records:</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>/opt/opsware/support/bin/verify_user_sigs
</pre></table></code></div></div><p>Once all user record signatures have been fixed, then restart all of SA and try to log in again.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/it/'>IT</a>, <a href='/categories/automation/'>Automation</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/mfsa/" class="post-tag no-text-decoration" >mfsa</a> <a href="/tags/automation/" class="post-tag no-text-decoration" >automation</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=MFSA - Unable to connect SA Client to SA Core - Thu4nvd Blog&url=https://thu4nvd.github.io//posts/mfsa-unable-connect-sacore/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=MFSA - Unable to connect SA Client to SA Core - Thu4nvd Blog&u=https://thu4nvd.github.io//posts/mfsa-unable-connect-sacore/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=MFSA - Unable to connect SA Client to SA Core - Thu4nvd Blog&url=https://thu4nvd.github.io//posts/mfsa-unable-connect-sacore/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/lettredesousscription/">Lettre de Souscription</a><li><a href="/posts/lettrededalat/">Lettre de Dalat</a><li><a href="/posts/lettrededemande/">Lettre de demande de renseignements</a><li><a href="/posts/lasortiedelusine/">Le sortie de l'usine</a><li><a href="/posts/language-acquisition/">Kể chuyện thông qua dữ liệu</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/french/">french</a> <a class="post-tag" href="/tags/skill/">skill</a> <a class="post-tag" href="/tags/automation/">automation</a> <a class="post-tag" href="/tags/howto/">howto</a> <a class="post-tag" href="/tags/method/">method</a> <a class="post-tag" href="/tags/mfoo/">mfoo</a> <a class="post-tag" href="/tags/mfsa/">mfsa</a> <a class="post-tag" href="/tags/book/">book</a> <a class="post-tag" href="/tags/books/">books</a> <a class="post-tag" href="/tags/compilation/">compilation</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/saoo-lost-jobID/"><div class="card-body"> <span class="timeago small" > Mar 15 <i class="unloaded">2021-03-15T05:10:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>SA-OO Integration - Lost Job ID in SA Client</h3><div class="text-muted small"><p> We checked all the possible ways to find the JobIDs but not able to find in SA Client. Run Job from OO, then there is some flow it has Job ID shown on SA Client, but some are missing. Issue Syste...</p></div></div></a></div><div class="card"> <a href="/posts/mfoo-remote-debug/"><div class="card-body"> <span class="timeago small" > Mar 20 <i class="unloaded">2021-03-20T05:10:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>MFOO - Remote Debug :Unable to connect OO Studio to OO Central</h3><div class="text-muted small"><p> Issue Product: Operations Orchestraion Remote Debug :Unable to connect OO Studio to OO Central Error when trying to remote debug from MFOO Analysis This is guide to the Remote Debugging Issu...</p></div></div></a></div><div class="card"> <a href="/posts/kubestartissue/"><div class="card-body"> <span class="timeago small" > Apr 22 <i class="unloaded">2021-04-22T05:10:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>MFdca - kube-start.sh showing time out error</h3><div class="text-muted small"><p> Issue Product: Data Center Automation Version: 2019.11 At time of executing ./kube-satrt.sh it’s showing time-out error at docker service. 1 ./kube-start.sh: line 93: ((: n &gt; /usr/bin/timeout -...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/develop-daily-writing-habit/" class="btn btn-outline-primary" prompt="Older"><p>Làm thế nào để phát triển thói quen viết hàng ngày</p></a> <a href="/posts/four-leadership-personalities/" class="btn btn-outline-primary" prompt="Newer"><p>Four leadership personalities</p></a></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/thu4nvd">Richard Thu4nvd</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."> Some rights reserved. </span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/french/">french</a> <a class="post-tag" href="/tags/skill/">skill</a> <a class="post-tag" href="/tags/automation/">automation</a> <a class="post-tag" href="/tags/howto/">howto</a> <a class="post-tag" href="/tags/method/">method</a> <a class="post-tag" href="/tags/mfoo/">mfoo</a> <a class="post-tag" href="/tags/mfsa/">mfsa</a> <a class="post-tag" href="/tags/book/">book</a> <a class="post-tag" href="/tags/books/">books</a> <a class="post-tag" href="/tags/compilation/">compilation</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://thu4nvd.github.io/{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
